<!DOCTYPE html>
<html>
<head>
    <title>Hungarian Wine Quiz</title>
    <style>
        body {
    font-family: 'Georgia', serif;
    color: #4B0082; /* deep wine purple */
    background: url('https://www.transparenttextures.com/patterns/wood-pattern.png') repeat;
    background-color: #fff8f0;
    text-align: center;
    padding: 20px;
}

h1 {
    font-size: 2.5em;
    color: #8B0000;
    text-shadow: 2px 2px #FFD700;
    margin-bottom: 10px;
}

p {
    font-size: 1.2em;
    color: #5a2d2d;
    margin-bottom: 20px;
}
.step {
 background: #ffffff;
 border-radius: 12px;
 box-shadow: 0 6px 12px rgba(0,0,0,0.12);
 width: min(860px, 92vw);
 margin: 18px auto;
 text-align: left;
 padding: 18px;
 position: relative;
 }

 .progress {
 font-weight: bold;
 color: #8B0000;
 margin-bottom: 8px;
 }

 .question-title {
 font-weight: bold;
 color: #4B0082;
 font-size: 1.2em;
 margin: 10px 0 14px;
 }

.question {
    background: #ffffff;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    margin: 15px auto;
    padding: 15px;
    width: 80%;
    text-align: left;
    font-size: 1.1em;
}

 .question-title {
 font-weight: bold;
 color: #4B0082;
 font-size: 1.2em;
 margin: 10px 0 14px;
 }
.question-image {
      width: 100%;
      height: 240px;
      object-fit: cover;
      border-radius: 10px;
      border: 2px solid #FFD700;
      margin-bottom: 14px;

 /* ===== Options grid: 2 columns ‚Üí automatically 3 rows for 5 items ===== */
 .options-grid {
 display: grid;
 grid-template-columns: repeat(2, minmax(0, 1fr));
 gap: 10px 12px;
 margin-bottom: 16px;
 }

 /* Option cards */
 .option-card {
 display: flex;
 align-items: right;
 gap: 10px;
 padding: 12px;
 border: 2px solid #e9d2ff;
 border-radius: 10px;
 cursor: pointer;
 transition: background 0.2s ease, border-color 0.2s ease;
 background: #fbf7ff;
 user-select: none;
 }

 .option-card:hover {
 background: #f6efff;
 border-color: #d0b6ff;
 }

 .option-card input[type="radio"] {
 width: 18px;
 height: 18px;
 cursor: pointer;
 }

 .option-text {
 color: #4B0082;
 }

 .nav-row {
 display: flex;
 justify-content: space-between;
 align-items: center;
 gap: 10px;
 margin-top: 8px;
 }

button {
    padding: 12px 20px;
    margin: 15px 10px;
    background-color: #8B0000;
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s ease;
}

button:hover {
    background-color: #a52a2a;
}
 button[disabled] { opacity: 0.5; cursor: not-allowed; }

 .btn-secondary {
 background-color: #4B0082;
 }
 .btn-secondary:hover { background-color: #5e0fa8; }

 /* ===== Result card ===== */
 #result {
 font-size: 18px;
 color: #4B0082;
 font-weight: bold;
 background: #fff;
 padding: 15px;
 border-radius: 12px;
 width: min(860px, 92vw);
 margin: 18px auto;
 box-shadow: 0 4px 8px rgba(0,0,0,0.1);
 display: none; /* Initially hidden until submit */
 text-align: left;
 }

 .result-title {
 font-size: 1.6em;
 color: #8B0000;
 margin: 0 0 6px;
 }

 .result-image {
 width: 100%;
 height: 260px;
 object-fit: cover;
 border-radius: 10px;
 border: 2px solid #FFD700;
 margin: 12px 0 14px;
 }

 .result-desc {
 font-weight: normal;
 color: #5a2d2d;
 line-height: 1.45;
 }

 /* Mobile tweak: stack to one column if very narrow */
 @media (max-width: 460px) {
 .options-grid {
 grid-template-columns: 1fr; /* Will be 5 rows on very small screens */
 }
 }

    </style>
</head>
<body>
<h1>üç∑ Which Hungarian Wine Matches Your Inner Self? üçá</h1>
 <p>Answer 5 questions‚Äîone per screen‚Äîand discover your wine soulmate!</p>

 <div id="step" class="step" aria-live="polite"></div>

 <div id="result"></div>

 <div style="text-align:center;">
 <button class="btn-secondary" onclick="retakeQuiz()">Retake Quiz</button>
 </div>

 <script>
 /* ===== Data: wines, descriptions, result images ===== */
 const wines = ["Tokaji Asz√∫", "Egri Bikav√©r", "Irsai Oliv√©r", "Juhfark", "K√©kfrankos"];

 const wineDescriptions = {
 "Tokaji Asz√∫": "Sweet, elegant, and a little royal. You probably deserve a crown üëë.",
 "Egri Bikav√©r": "Bold and strong, like your opinions in meetings üí™.",
 "Irsai Oliv√©r": "Fresh, fun, and full of summer vibes üåû.",
 "Juhfark": "Fiery and adventurous. You‚Äôre the office wild card üî•.",
 "K√©kfrankos": "Balanced and clever. The quiet strategist of the team ü¶ä."
 };

 /* ‚¨áÔ∏è Replace these image URLs with your own assets (local files or full URLs) */
 const wineImages = {
 "Tokaji Asz√∫": "https://www.tasteatlas.com/images/ingredients/4277a542e8074e398096a4c96d8bb966.jpg?mw=1300",
 "Egri Bikav√©r": "https://www.tasteatlas.com/images/ingredients/898f7a46018a4eeea6e2c92d8f867017.jpg?mw=1300",
 "Irsai Oliv√©r": "https://www.tasteatlas.com/images/ingredients/246d60d689b84c3996133e1cf8ec2a7e.jpg?mw=1300",
 "Juhfark": "https://www.tasteatlas.com/images/ingredients/8b9a6c2393004c79960d99024e5ae89c.jpg?mw=1300",
 "K√©kfrankos": "https://www.tasteatlas.com/images/ingredients/c66e60e3900c4fa1b89f15dafa367cb9.jpg?mw=1300"
 };


        const questions = [
            { text: "What‚Äôs your spirit animal for a Friday night?", 
                image: "https://thumbs.dreamstime.com/b/dragon-eye-close-up-fantasy-monster-looking-dragon-eye-close-up-fantasy-monster-looking-realistic-colorful-eye-evil-dinosaur-351750913.jpg",
                options: [
                { answer: "Majestic owl", wine: "Tokaji Asz√∫" },
                { answer: "Wild boar", wine: "Egri Bikav√©r" },
                { answer: "Playful squirrel", wine: "Irsai Oliv√©r" },
                { answer: "Dragon", wine: "Juhfark" },
                { answer: "Fox", wine: "K√©kfrankos" }
            ]},
            { text: "If you were a Hungarian dish, which one would you be?", 
                image: "https://nellicioustravels.com/wp-content/uploads/2024/05/hungarian_herbs_and_spices.jpg",
                options: [
                { answer: "Guly√°s soup", wine: "Egri Bikav√©r" },
                { answer: "T√∫r√≥ Rudi", wine: "Irsai Oliv√©r" },
                { answer: "Dobos torta", wine: "Tokaji Asz√∫" },
                { answer: "L√°ngos", wine: "Juhfark" },
                { answer: "Hortob√°gyi palacsinta", wine: "K√©kfrankos" }
            ]},
            { text: "Pick a random superpower", 
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRqF_qeS0hNhb6dpV93CpJfQA85HgW6VPSY2A&s",
                options: [
                { answer: "Turning everything into gold", wine: "Tokaji Asz√∫" },
                { answer: "Breathing fire", wine: "Juhfark" },
                { answer: "Teleportation", wine: "Irsai Oliv√©r" },
                { answer: "Mind-reading", wine: "K√©kfrankos" },
                { answer: "Super Strength", wine: "Egri Bikav√©r" }
            ]},
            { text: "What's your ideal holiday type?", 
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRlMdH3XsF7a9zsvlMHed13Vk6UNAXyobXaig&s",
                options: [
                { answer: "Mountain getaway", wine: "Tokaji Asz√∫" },
                { answer: "City break", wine: "Egri Bikav√©r" },
                { answer: "Sunbathing next to the sea", wine: "Irsai Oliv√©r"},
                { answer: "Family holiday", wine: "Juhfark"},
                { answer: "Spa holiday", wine: "K√©kfrankos"}
            ]},
            { text: "If you were a color in a folk embroidery pattern, which would you be?", 
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ34mjwWVosN2c4LrHPqy0QXEZvlMkQeCP4Fw&s",
                options: [
                { answer: "Gold", wine: "Tokaji Asz√∫" },
                { answer: "Deep red", wine: "Egri Bikav√©r" },
                { answer: "Bright green", wine: "Irsai Oliv√©r"},
                { answer: "Fiery Orange", wine: "Juhfark"},
                { answer: "Burgundy", wine: "K√©kfrankos"}
            ]},
            { text: "If you were a Hungarian folk tale character, who would you be?", 
                image: "https://static.tvtropes.org/pmwiki/pub/images/hungarian_folk_tales_4.jpg",
                options: [
                { answer: "The loyal knight", wine: "K√©kfrankos" },
                { answer: "The dragon", wine: "Juhfark" },
                { answer: "The cheeky trickster", wine: "Irsai Oliv√©r"},
                { answer: "The fearless warrior", wine: "Egri Bikav√©r"},
                { answer: "The wise old king", wine: "Tokaji Asz√∫"}
            ]},
            { text: "What‚Äôs your reaction when someone says ‚Äúfree food in the office‚Äù?", 
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQv41RJpoK6c32ZwIK_JQXWFVSc0hZ-NHL4vQ&s",
                options: [
                { answer: "Grab a plate and make a tower", wine: "Juhfark" },
                { answer: "Sprint like it‚Äôs the Olympics", wine: "Egri Bikav√©r" },
                { answer: "Casually stroll, humming a tune", wine: "Irsai Oliv√©r"},
                { answer: "Gracefully walk over and take one piece", wine: "Tokaji Asz√∫"},
                { answer: "Pretend you‚Äôre not interested but secretly take two", wine: "K√©kfrankos"}
            ]},
            { text: "If your life had a soundtrack, what would it be?", 
                image: "https://www.rollingstone.com/wp-content/uploads/2022/08/What-Is-the-Future-of-Live-Music.jpg",
                options: [
                { answer: "Heavy metal riffs", wine: "Juhfark" },
                { answer: "Epic movie score", wine: "Egri Bikav√©r" },
                { answer: "Chill summer vibes", wine: "Irsai Oliv√©r"},
                { answer: "A classical symphony", wine: "Tokaji Asz√∫"},
                { answer: "Indie acoustic playlist", wine: "K√©kfrankos"}
            ]},
            { text: "Which office habit annoys you the most?", 
                image: "https://ifeelonline.com/wp-content/uploads/sites/2/2021/07/shridhar-gupta-dZxQn4VEv2M-unsplash-1.jpg",
                options: [
                { answer: "Traffic jam at the coffee machine", wine: "Juhfark" },
                { answer: "Loud chewing", wine: "Egri Bikav√©r" },
                { answer: "People stealing your pen/mouse/place", wine: "Irsai Oliv√©r"},
                { answer: "Endless meetings", wine: "Tokaji Asz√∫"},
                { answer: "Reply-all emails", wine: "K√©kfrankos"}
            ]},
            { text: "If you could rename Monday, what would you call it?", 
                image: "https://cdn.prod.website-files.com/65a301a1cef61ea07d3e7bcf/65e803905723cf073057fb5d_post10.png",
                options: [
                { answer: "Chaos-day", wine: "Juhfark" },
                { answer: "Battle-day", wine: "Egri Bikav√©r" },
                { answer: "Nap-day", wine: "Irsai Oliv√©r"},
                { answer: "Wine-day", wine: "Tokaji Asz√∫"},
                { answer: "Coffee-day", wine: "K√©kfrankos"}
            ]}
        ];

         /* ===== Quiz state ===== */
    const NUM_QUESTIONS = 5;
    let selectedQuestions = [];
    let currentIndex = 0;           // 0..NUM_QUESTIONS-1
    let selections = [];            // holds selected wine per step

    function getRandomQuestions(num) {
      const shuffled = [...questions].sort(() => 0.5 - Math.random());
      return shuffled.slice(0, num);
    }

    function renderStep() {
      const stepDiv = document.getElementById("step");
      const q = selectedQuestions[currentIndex];

      // Build options HTML as a grid (2 columns ‚Üí results in 3 rows for 5 options)
      const optionsHTML = q.options.map((opt, i) => {
        const name = "qStep"; // single group for current page
        const checked = selections[currentIndex] === opt.wine ? "checked" : "";
        return `
          <label class="option-card">
            <input type="radio" name="${name}" value="${opt.wine}" ${checked} />
            <span class="option-text">${opt.answer}</span>
          </label>
        `;
      }).join("");

      stepDiv.innerHTML = `
        <div class="progress">Question ${currentIndex + 1} of ${NUM_QUESTIONS}</div>
        <img class="question-image" src="${q.image}" alt="Question image        <div class="options-grid" role="radiogroup" aria-label="Answer options">
          ${optionsHTML}
        </div>

        <div class="nav-row">
          <button class="btn-secondary" onclick="prevStep()" ${currentIndex === 0 ? "disabled" : ""}>Back</button>
          ${currentIndex < NUM_QUESTIONS - 1
            ? `<button id="nextBtn" onclick="nextStep()" ${selections[currentIndex] ? "" : "disabled"}>Next</button>`
            : `<button id="submitBtn" onclick="submitQuiz()" ${selections[currentIndex] ? "" : "disabled"}>See My Wine!</button>`
          }
        </div>
      `;

      // Wire up change handling to enable Next/Submit only after choosing
      stepDiv.querySelectorAll('input[type="radio"]').forEach(input => {
        input.addEventListener('change', (e) => {
          selections[currentIndex] = e.target.value;
          const nextBtn = document.getElementById("nextBtn");
          const submitBtn = document.getElementById("submitBtn");
          if (nextBtn) nextBtn.disabled = false;
          if (submitBtn) submitBtn.disabled = false;
        });
      });

      // Hide result area while navigating
      document.getElementById("result").style.display = "none";
    }

    function nextStep() {
      if (!selections[currentIndex]) return; // guard
      currentIndex = Math.min(currentIndex + 1, NUM_QUESTIONS - 1);
      renderStep();
    }

    function prevStep() {
      currentIndex = Math.max(currentIndex - 1, 0);
      renderStep();
    }

    function submitQuiz() {
      // Count selected wines
      const wineCount = {};
      selections.forEach(w => {
        wineCount[w] = (wineCount[w] || 0) + 1;
      });

      // Find max count; resolve ties deterministically by wines order
      const max = Math.max(...Object.values(wineCount));
      const candidates = wines.filter(w => wineCount[w] === max);
      const resultWine = candidates[0]; // pick first in defined order

      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = `
        <div class="result-title">Your wine match is: <b>${resultWine}</b> üç∑</div>
        ${wineImages[resultWine] ||
        <div class="result-desc">${wineDescriptions[resultWine]}</div>
      `;
      resultDiv.style.display = "block";
      // Scroll to result for visibility
      resultDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function loadQuiz() {
      selectedQuestions = getRandomQuestions(NUM_QUESTIONS);
      currentIndex = 0;
      selections = Array(NUM_QUESTIONS).fill(null);
      renderStep();
    }

    function retakeQuiz() {
      loadQuiz();
    }

    // Initialize
    loadQuiz();
  </script>
</body>
</html>
